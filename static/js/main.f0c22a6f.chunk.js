(this["webpackJsonpreact-node-boilerplate"]=this["webpackJsonpreact-node-boilerplate"]||[]).push([[0],{24:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n.n(s),i=n(16),r=n.n(i),l=n(2),d=(n(24),function(e){var t=e.handleSubmit,n=[{name:" Added Sugar"},{name:" Dairy"},{name:" Shellfish"}],a=Object(s.useState)(new Array(n.length).fill(!1)),i=Object(l.a)(a,2),r=i[0],d=i[1];return Object(c.jsx)("div",{class:"wrapper1",children:Object(c.jsxs)("div",{class:"padding",children:[Object(c.jsxs)("div",{class:"listDiv",children:[Object(c.jsx)("h3",{children:Object(c.jsx)("b",{children:"What should we look out for?"})}),Object(c.jsx)("hr",{class:"solid"}),Object(c.jsx)("ul",{className:"choice-list",children:n.map((function(e,t){var n=e.name;return Object(c.jsxs)("li",{children:[Object(c.jsx)("div",{className:"choices-list-item",children:Object(c.jsxs)("div",{className:"left-section",children:[Object(c.jsx)("input",{type:"checkbox",id:"custom-checkbox-".concat(t),name:n,value:n,checked:r[t],onChange:function(){return function(e){var t=r.map((function(t,n){return n===e?!t:t}));d(t)}(t)}}),Object(c.jsx)("label",{htmlFor:"custom-checkbox-".concat(t),children:n})]})}),Object(c.jsx)("hr",{class:"dashed"})]},t)}))})]}),Object(c.jsx)("button",{class:"submitBtn",onClick:function(){t(r)},children:"Onto the scanning!"})]})})}),j=n(17),o=n.n(j);var h=function(e){var t=e.handleSubmit;document.body.style.backgroundColor="#efbed5";var n=Object(s.useRef)(null),a=Object(s.useRef)(null),i=Object(s.useState)(!1),r=Object(l.a)(i,2),d=r[0],j=r[1];Object(s.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then((function(e){var t=n.current;t.srcObject=e,t.play()})).catch((function(e){console.error(e)}))}),[n]);var h=Object(s.useState)(""),u=Object(l.a)(h,2),b=u[0],A=u[1];return Object(c.jsxs)("div",{class:"wrapper2",children:[Object(c.jsx)("h3",{children:Object(c.jsx)("b",{children:"Scan your Ingredients Label Below"})}),Object(c.jsxs)("div",{class:"padding",children:[Object(c.jsxs)("div",{classname:"camera",children:[Object(c.jsx)("video",{ref:n}),Object(c.jsx)("button",{class:"submitBtn",onClick:function(){var e=232.875,t=n.current,c=a.current;c.width=414,c.height=e,c.getContext("2d").drawImage(t,0,0,414,e),j(!0)},children:"Snap your pic, click until you're happy!"})]}),Object(c.jsx)("div",{className:"result"+(d?"hasPhoto":""),children:Object(c.jsx)("canvas",{ref:a})}),Object(c.jsx)("h4",{children:Object(c.jsx)("b",{children:"Or input the ingredients manually (seperated by commas):"})}),Object(c.jsxs)("form",{children:[Object(c.jsx)("label",{children:Object(c.jsx)("input",{type:"text",value:b,onChange:function(e){A(e.target.value)},name:"name"})}),Object(c.jsx)("input",{type:"submit",value:"Next",onClick:function(){t(b)}})]}),Object(c.jsxs)("button",{class:"submitBtn",onClick:function(){var e=a.current.toDataURL();console.log(e),o.a.recognize(e,"eng",{logger:function(e){return console.log(e)}}).catch((function(e){console.error(e)})).then((function(e){var n=e.data.text;console.log(n),t(n)}))},children:[" ","Ready to analyze?"," "]})]})]})},u=n(3),b=n.n(u),A=n(18),g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZixctNAFEWvZAq6yNCkgGSJoQ9/4HRJ53wB5AuSdHSELyD5AkNJ5aQiVHYHHaZjBswsqaiw0tHE4j6NPWPklbOyNliZ2dPY1ptd+ertvndXgMfj8Xg8Ho/H47mWALeExkPVSgKsj0KcaWIz5laIa6ypNv/p8/HP+CrAUxuBISrOhlIvp4QJUThCy2ZspcWJsCDBUfZ6EGJoM76yyzJPGDkd/NS7sOAOKkhDqWcwCEuA/ijAHiypXOYeP1DNpIauIaTHhSSGJZXK3BOlNkcJOoaQCNsqIkyooSIownX3nktpNROaCNMoSCWWpQgLE3T5Z1QmZN3TTCy9FcwRhnDBjE2w3nPpRg+grmrolbnhNNQVUVjHJIxrau+b1n2UwCpz0nPSChaiXUvwWTY+HMC52hQ2Mxf726uB1m9QEitxfLrTdidiReuWFbixpl7zY8ZGibDvF/oIDrASx+aZLcEisJNWuAVI3UeAg+x1l8IEu8wFOMSsQMVl1S0qMNdWJXjrUphg3QpoiVqY32D1dXNQ2D6FHRtCPfrFLTjGuhVwg5/C7OsmGYzmjRe/aBImfpEPx8oIF6WQQxnGcf9+Pbrk1+1MKOIS2F6pR+/iOP6THSfFJ0lwbphS0wjvMOm/cAMUtl+/4/gTBcpybk5fF9tkEih7khn7yK93M1MtbKtsWchbUmAvTyDbxurwMj6T31Puw5lfLMLCxjlPIBVu3luJFDP4Jc8vsvru/ND6K26Y0saZL2+OOcu+ISStIzLccTctTv+B0kceLsFzZuqRZCwTyu4xsHEfurBVtjg78jTWlZyem3lx1+7DBmdHHulV0rNMsWUIS+8Lh4yPMN1/nH6Ck8GFPsAScPqaQfobq+QHCqzz7BexKp7QVr2Ax+PxeDwej8fj8SyFvwnHB710OjOfAAAAAElFTkSuQmCC",O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAYAAACo29JGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIESURBVHgB7Zg7TsNAEIZ/2w0dDqIFLURIlBwBbgAlFdwAuAk3ADo6QkdHbgAlEopYoKECc4CwzIiH8o49nnU1nxTF2bXH+rSOd2YAwzAMwzAMwzDmkkCIcy7P+tilw6L36jtQ5C92P0PXExCSQkgacEdXn9Hnqr3qzqBE27mDLOCJY/P3+qo7hhCRXHvF7dKSu/+BBIcaghvObSHgnA7z/9AJjiBEJJdkKMYH6wmy2FfA7YQpDyEZBLwXhV9azNdIaGtogn7TuPv4LK5RgQGxfGSqSBPs0/3eIEAkx5BAR0NwjtjOo/f3ECKWY+oKxhRjaskxUsHYYkxtOaaqYBNijIocU1awKTFGTY6ZJ7jcyp+bEvu5bQRovzunyAclT48ixqiu3B9TV3CcaGJMFDmmhGBUMUacOJcKnuJ0xnQ3phgTbeUG3ooLU07ZlKRqVYgiN+N1P4wwFy2LutysfYxkbuh7c2g0oqDqf27eBt3zfo/qtYuxC5XqwVHUVq5s5qFVTZRBRa5qStWUYG05aa7YhGAtubpJcGxBsRx3qULAJWomwTEFRXLUV3TU2utAKbufJdhazBOa70KAaCughuk2lMuW3os/nLRNJOWrizGkrT0/MqSSBE8UDOhCiLy1R4VnoCeUCsIHbr9pJcG/j2grJFjg2P0UJwUBwzAMwzAMwzCMynwDBCxaORdKk1sAAAAASUVORK5CYII=",x=function(e){var t=e.selectedChoices,n=e.ingredients;document.body.style.backgroundColor="#86d3ea";var a=Object(s.useState)([]),i=Object(l.a)(a,2),r=i[0],d=i[1],j=Object(s.useState)(!0),o=Object(l.a)(j,2),h=o[0],u=o[1],x=Object(s.useState)(null),f=Object(l.a)(x,2),m=f[0],p=f[1];return Object(s.useEffect)((function(){(function(){var e=Object(A.a)(b.a.mark((function e(){var t,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("http://localhost:3001","/api?ingredients=").concat(n));case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("This is an HTTP error: The status is ".concat(t.status));case 6:return e.next=8,t.json();case 8:c=e.sent,d(c),p(null),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),p(e.t0.message),d(null);case 17:return e.prev=17,u(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.jsx)("div",{class:"wrapper3",children:Object(c.jsxs)("div",{class:"padding",children:[Object(c.jsx)("h1",{children:"Your Scanned Results"}),h&&Object(c.jsx)("div",{children:"A moment please..."}),m&&Object(c.jsx)("div",{children:"There is a problem fetching the post data - ".concat(m)}),t.map((function(e){return e.value&&r.dairyIngredients&&"dairy"==e.name?Object(c.jsxs)("div",{class:"ingredBox",children:[Object(c.jsxs)("div",{class:"blueHead",children:[Object(c.jsx)("h4",{children:e.name}),r.dairyIngredients.length>0?Object(c.jsx)("img",{src:O,alt:"black close",width:"35",height:"35"}):Object(c.jsx)("img",{src:g,alt:"black checkmark",width:"35",height:"35"})]}),Object(c.jsxs)("p",{children:["We found ",Object(c.jsx)("b",{children:r.dairyIngredients.length})," ingredients flagged as dairy!"]}),Object(c.jsxs)("p",{class:"pIngList",children:[" ",r.dairyIngredients.join(", ")]})]}):e.value&&r.addedSugarIngredients&&"added sugar"==e.name?Object(c.jsxs)("div",{class:"ingredBox",children:[Object(c.jsxs)("div",{class:"blueHead",children:[Object(c.jsx)("h4",{children:e.name}),r.addedSugarIngredients.length>0?Object(c.jsx)("img",{src:O,alt:"black close",width:"35",height:"35"}):Object(c.jsx)("img",{src:g,alt:"black checkmark",width:"35",height:"35"})]}),Object(c.jsxs)("p",{children:["We found ",Object(c.jsx)("b",{children:r.addedSugarIngredients.length})," ","ingredients flagged added sugar!"]}),Object(c.jsxs)("p",{class:"pIngList",children:[" ",r.addedSugarIngredients.join(", ")]})]}):e.value&&r.shellfishIngredients&&"shellfish"==e.name?Object(c.jsxs)("div",{class:"ingredBox",children:[Object(c.jsxs)("div",{class:"blueHead",children:[Object(c.jsx)("h4",{children:e.name}),r.shellfishIngredients.length>0?Object(c.jsx)("img",{src:O,alt:"black close",width:"35",height:"35"}):Object(c.jsx)("img",{src:g,alt:"black checkmark",width:"35",height:"35"})]}),Object(c.jsxs)("p",{children:["We found ",Object(c.jsx)("b",{children:r.shellfishIngredients.length})," ingredients flagged shellfish!"]}),Object(c.jsxs)("p",{class:"pIngList",children:[" ",r.shellfishIngredients.join(", ")," "]})]}):void 0}))]})})},f=(n(51),n(52),function(){var e=Object(s.useState)(1),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)([]),r=Object(l.a)(i,2),j=r[0],o=r[1],u=Object(s.useState)(""),b=Object(l.a)(u,2),A=b[0],g=b[1];return 1==n?Object(c.jsx)(d,{handleSubmit:function(e){a(n+1),o([{name:"added sugar",value:e[0]},{name:"dairy",value:e[1]},{name:"shellfish",value:e[2]}])}}):2==n?Object(c.jsx)(h,{handleSubmit:function(e){a(n+1),g(e)}}):Object(c.jsx)(x,{selectedChoices:j,ingredients:A})}),m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(f,{})}),document.getElementById("root")),m()}},[[53,1,2]]]);
//# sourceMappingURL=main.f0c22a6f.chunk.js.map